mysql> show tables;
+-------------------------------------+
| Tables_in_mans_friends              |
+-------------------------------------+
| Верблюды                            |
| Вьючные_животные                    |
| Домашние_животные                   |
| Кошки                               |
| Лошади                              |
| Ослы                                |
| Родительский_класс                  |
| Собаки                              |
| Хомяки                              |
+-------------------------------------+
9 rows in set (0,00 sec)

mysql> show create table Родительский_класс;
+-------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table                               | Create Table                                                                                                                                                                                         |
+-------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Родительский_класс                  | CREATE TABLE `Родительский_класс` (
  `id` int NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                  |
+-------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0,00 sec)

mysql> show create table Домашние_животные;
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table                             | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Домашние_животные                 | CREATE TABLE `Домашние_животные` (
  `id` int NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `parent_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`),
  CONSTRAINT `fk_Родительский_класс` FOREIGN KEY (`id`) REFERENCES `Родительский_класс` (`id`),
  CONSTRAINT `Домашние_животные_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `Родительский_класс` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                                                                                    |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0,00 sec)

mysql> show create table Вьючные_животные;
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table                           | Create Table                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Вьючные_животные                | CREATE TABLE `Вьючные_животные` (
  `id` int NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `parent_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`),
  CONSTRAINT `Вьючные_животные_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `Родительский_класс` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                                                |
+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0,00 sec)

mysql> show create table Собаки;
+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table        | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Собаки       | CREATE TABLE `Собаки` (
  `id` int NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `date_of_birth` date DEFAULT NULL,
  `command` varchar(50) DEFAULT NULL,
  `parent_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`),
  CONSTRAINT `Собаки_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `Домашние_животные` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                             |
+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0,00 sec)

mysql> show create table Хомяки;
+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table        | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Хомяки       | CREATE TABLE `Хомяки` (
  `id` int NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `date_of_birth` date DEFAULT NULL,
  `command` varchar(50) DEFAULT NULL,
  `parent_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`),
  CONSTRAINT `Хомяки_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `Домашние_животные` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                             |
+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0,00 sec)

mysql> show create table Кошки;
+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table      | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                              |
+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Кошки      | CREATE TABLE `Кошки` (
  `id` int NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `date_of_birth` date DEFAULT NULL,
  `command` varchar(50) DEFAULT NULL,
  `parent_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`),
  CONSTRAINT `Кошки_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `Домашние_животные` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                           |
+------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0,00 sec)

mysql> show create table Лошади;
+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table        | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Лошади       | CREATE TABLE `Лошади` (
  `id` int NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `date_of_birth` date DEFAULT NULL,
  `command` varchar(50) DEFAULT NULL,
  `parent_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`),
  CONSTRAINT `Лошади_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `Вьючные_животные` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                            |
+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0,00 sec)

mysql> show create table Верблюды;
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table            | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Верблюды         | CREATE TABLE `Верблюды` (
  `id` int NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `date_of_birth` date DEFAULT NULL,
  `command` varchar(50) DEFAULT NULL,
  `parent_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`),
  CONSTRAINT `Верблюды_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `Вьючные_животные` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                                |
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0,00 sec)

mysql> show create table Ослы;
+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table    | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                        |
+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Ослы     | CREATE TABLE `Ослы` (
  `id` int NOT NULL,
  `name` varchar(50) DEFAULT NULL,
  `date_of_birth` date DEFAULT NULL,
  `command` varchar(50) DEFAULT NULL,
  `parent_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `parent_id` (`parent_id`),
  CONSTRAINT `Ослы_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `Вьючные_животные` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci                        |
+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0,00 sec)

mysql> select * from Родительский_класс;
+----+-----------------------------------+
| id | name                              |
+----+-----------------------------------+
|  1 | Домашние_животные                 |
|  2 | Вьючные_животные                  |
+----+-----------------------------------+
2 rows in set (0,01 sec)

mysql> select * from Домашние_животные;
+----+--------------+-----------+
| id | name         | parent_id |
+----+--------------+-----------+
|  1 | Собаки       |         1 |
|  2 | Кошки        |         1 |
+----+--------------+-----------+
2 rows in set (0,01 sec)

mysql> select * from Вьючные_животные;
+----+------------------+-----------+
| id | name             | parent_id |
+----+------------------+-----------+
|  1 | Лошади           |         2 |
|  2 | Верблюды         |         2 |
|  3 | Ослы             |         2 |
+----+------------------+-----------+
3 rows in set (0,00 sec)

mysql> select * from Хомяки;
+----+--------------+---------------+----------------+-----------+
| id | name         | date_of_birth | command        | parent_id |
+----+--------------+---------------+----------------+-----------+
|  1 | Пухлый       | 2016-04-07    | Бегать         |      NULL |
|  2 | Сонный       | 2017-02-04    | Фыркать        |      NULL |
+----+--------------+---------------+----------------+-----------+
2 rows in set (0,00 sec)

mysql> select * from Собаки;
+----+--------------+---------------+--------------+-----------+
| id | name         | date_of_birth | command      | parent_id |
+----+--------------+---------------+--------------+-----------+
|  1 | Шарик        | 2010-01-01    | Сидеть       |      NULL |
|  2 | Грызун       | 2012-11-01    | Грызть       |      NULL |
+----+--------------+---------------+--------------+-----------+
2 rows in set (0,00 sec)

mysql> select * from Кошки;
+----+----------+---------------+----------------+-----------+
| id | name     | date_of_birth | command        | parent_id |
+----+----------+---------------+----------------+-----------+
|  1 | Муся     | 2013-01-11    | Мяукать        |      NULL |
|  2 | Пуся     | 2015-06-10    | Спать          |      NULL |
+----+----------+---------------+----------------+-----------+
2 rows in set (0,00 sec)

mysql> select * from Лошади;
+----+------------------------+---------------+-------------------+-----------+
| id | name                   | date_of_birth | command           | parent_id |
+----+------------------------+---------------+-------------------+-----------+
|  1 | Лошадище               | 2021-11-11    | Ржать             |      NULL |
|  2 | Жирныйбенок            | 2023-11-11    | Дать лапу         |      NULL |
+----+------------------------+---------------+-------------------+-----------+
2 rows in set (0,00 sec)

mysql> select * from Верблюды;
+----+----------------------+---------------+-------------------------+-----------+
| id | name                 | date_of_birth | command                 | parent_id |
+----+----------------------+---------------+-------------------------+-----------+
|  1 | Трехгорбый           | 2022-11-11    | Наклониться             |      NULL |
|  2 | Фляга                | 2022-11-11    | Хранить воду            |      NULL |
+----+----------------------+---------------+-------------------------+-----------+
2 rows in set (0,00 sec)

mysql> select * from Ослы;
+----+----------------+---------------+--------------+-----------+
| id | name           | date_of_birth | command      | parent_id |
+----+----------------+---------------+--------------+-----------+
|  1 | Упрямыч        | 2023-10-05    | Тупить       |      NULL |
|  2 | Бешеный        | 2023-10-05    | Рычать       |      NULL |
+----+----------------+---------------+--------------+-----------+
2 rows in set (0,00 sec)

mysql> select * from Вьючные_животные;
+----+------------------+-----------+
| id | name             | parent_id |
+----+------------------+-----------+
|  1 | Лошади           |         2 |
|  2 | Верблюды         |         2 |
|  3 | Ослы             |         2 |
+----+------------------+-----------+
3 rows in set (0,00 sec)

mysql> delete from Вьючные_животные where id = 2;
Query OK, 1 row affected (0,03 sec)

mysql> select * from Вьючные_животные;
+----+--------------+-----------+
| id | name         | parent_id |
+----+--------------+-----------+
|  1 | Лошади       |         2 |
|  3 | Ослы         |         2 |
+----+--------------+-----------+
2 rows in set (0,00 sec)

mysql> select id, name, date_of_birth, command from Лошади union select id, name, date_of_birth, command from Ослы;
+----+------------------------+---------------+-------------------+
| id | name                   | date_of_birth | command           |
+----+------------------------+---------------+-------------------+
|  1 | Лошадище               | 2021-11-11    | Ржать             |
|  2 | Жирныйбенок            | 2023-11-11    | Дать лапу         |
|  1 | Упрямыч                | 2023-10-05    | Тупить            |
|  2 | Бешеный                | 2023-10-05    | Рычать            |
+----+------------------------+---------------+-------------------+
4 rows in set (0,00 sec)

mysql> CREATE TABLE молодые_животные AS
    -> SELECT *, TIMESTAMPDIFF(MONTH, date_of_birth, NOW()) AS возраст_в_месяцах
    -> FROM (
    ->   SELECT id, date_of_birth
    ->   FROM Собаки
    ->   UNION ALL
    ->   SELECT id, date_of_birth
    ->   FROM Кошки
    ->   UNION ALL
    ->   SELECT id, date_of_birth
    ->   FROM Хомяки
    ->   UNION ALL
    ->   SELECT id, date_of_birth
    ->   FROM Ослы
    ->   UNION ALL
    ->   SELECT id, date_of_birth
    ->   FROM Лошади
    -> ) AS животные
    -> WHERE date_of_birth <= DATE_SUB(NOW(), INTERVAL 1 YEAR)
    -> AND date_of_birth > DATE_SUB(NOW(), INTERVAL 3 YEAR);
Query OK, 1 row affected (0,12 sec)
Records: 1  Duplicates: 0  Warnings: 0

mysql> select * from молодые_животные;
+----+---------------+----------------------------------+
| id | date_of_birth | возраст_в_месяцах                |
+----+---------------+----------------------------------+
|  1 | 2021-11-11    |                               25 |
+----+---------------+----------------------------------+
1 row in set (0,00 sec)

mysql> CREATE TABLE Все_животные AS
    -> SELECT * FROM Лошади
    -> UNION ALL
    -> SELECT * FROM Ослы
    -> UNION ALL
    -> SELECT * FROM Собаки
    -> UNION ALL
    -> SELECT * FROM Кошки
    -> UNION ALL
    -> SELECT * FROM Хомяки;
Query OK, 10 rows affected (0,10 sec)
Records: 10  Duplicates: 0  Warnings: 0

mysql> select * from Все_животные;
+----+------------------------+---------------+-------------------+-----------+
| id | name                   | date_of_birth | command           | parent_id |
+----+------------------------+---------------+-------------------+-----------+
|  1 | Лошадище               | 2021-11-11    | Ржать             |      NULL |
|  2 | Жирныйбенок            | 2023-11-11    | Дать лапу         |      NULL |
|  1 | Упрямыч                | 2023-10-05    | Тупить            |      NULL |
|  2 | Бешеный                | 2023-10-05    | Рычать            |      NULL |
|  1 | Шарик                  | 2010-01-01    | Сидеть            |      NULL |
|  2 | Грызун                 | 2012-11-01    | Грызть            |      NULL |
|  1 | Муся                   | 2013-01-11    | Мяукать           |      NULL |
|  2 | Пуся                   | 2015-06-10    | Спать             |      NULL |
|  1 | Пухлый                 | 2016-04-07    | Бегать            |      NULL |
|  2 | Сонный                 | 2017-02-04    | Фыркать           |      NULL |
+----+------------------------+---------------+-------------------+-----------+
10 rows in set (0,00 sec)

mysql> 





